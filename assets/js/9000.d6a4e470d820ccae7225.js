"use strict";(self.webpackChunkxyz_chatboxapp_ce=self.webpackChunkxyz_chatboxapp_ce||[]).push([[9e3],{29e3:(e,t,a)=>{a.r(t),a.d(t,{component:()=>T});var n=a(74848),r=a(69019),s=a(89652),o=a(17826),i=a(40054),l=a(11507),c=a(55007),d=a(5055),u=a(63403),h=a(55917),g=a(12335),p=a(2432),x=a(71432),m=a(15926),f=a(57693),v=a(34195),b=a(42624),w=a(10524),j=a(5299),y=a(93360),C=a(18871),k=a(46929),A=a(43639);const z=5242880,T=function(){const{t:e}=(0,v.Bd)(),{settings:t,setSettings:a}=(0,C.t0)();return(0,n.jsxs)(r.B,{gap:"xxl",p:"md",children:[(0,n.jsx)(s.h,{order:5,children:e("Chat Settings")}),(0,n.jsxs)(r.B,{gap:"md",children:[(0,n.jsxs)(r.B,{gap:"xxs",children:[(0,n.jsx)(o.E,{fw:"600",children:e("Edit Avatars")}),(0,n.jsx)(o.E,{size:"xs",c:"chatbox-tertiary",children:e("Support jpg or png file smaller than 5MB")})]}),(0,n.jsxs)(r.B,{children:[(0,n.jsx)(o.E,{size:"xs",c:"chatbox-secondary",children:e("User Avatar")}),(0,n.jsxs)(i.s,{align:"center",gap:"xs",children:[(0,n.jsx)(l.a,{w:56,h:56,mr:"xs",className:" rounded-full overflow-hidden",children:t.userAvatarKey?(0,n.jsx)(w.wc,{storageKey:t.userAvatarKey,className:"object-cover object-center w-full h-full"}):(0,n.jsx)(i.s,{align:"center",justify:"center",c:"white",className:"w-full h-full bg-[#bdbdbd] rounded-full",children:(0,n.jsx)(x.A,{fontSize:"medium"})})}),(0,n.jsx)(c.H,{onChange:t=>{if(t){if(t.size>z)return void(0,A.W)(e("Support jpg or png file smaller than 5MB"));const n=k.CB.picture("user-avatar");(0,w.AH)(t,n,(()=>a({userAvatarKey:n})))}},accept:"image/png,image/jpeg",children:t=>(0,n.jsx)(d.$,{...t,variant:"outline",size:"xs",children:e("Upload Image")})}),!!t.userAvatarKey&&(0,n.jsx)(d.$,{color:"chatbox-gray",size:"xs",onClick:()=>a({userAvatarKey:void 0}),children:e("Delete")})]})]}),(0,n.jsxs)(r.B,{children:[(0,n.jsx)(o.E,{size:"xs",c:"chatbox-secondary",children:e("Default Assistant Avatar")}),(0,n.jsxs)(i.s,{align:"center",gap:"xs",children:[(0,n.jsx)(l.a,{w:56,h:56,mr:"xs",className:" rounded-full overflow-hidden",children:t.defaultAssistantAvatarKey?(0,n.jsx)(w.wc,{storageKey:t.defaultAssistantAvatarKey,className:"object-cover object-center w-full h-full"}):(0,n.jsx)(i.s,{align:"center",justify:"center",c:"white",className:"w-full h-full bg-[#bdbdbd] rounded-full",children:(0,n.jsx)(m.A,{fontSize:"medium"})})}),(0,n.jsx)(c.H,{onChange:t=>{if(t){if(t.size>z)return void(0,A.W)(e("Support jpg or png file smaller than 5MB"));const n=k.CB.picture("default-assistant-avatar");(0,w.AH)(t,n,(()=>a({defaultAssistantAvatarKey:n})))}},accept:"image/png,image/jpeg",children:t=>(0,n.jsx)(d.$,{...t,variant:"outline",size:"xs",children:e("Upload Image")})}),!!t.defaultAssistantAvatarKey&&(0,n.jsx)(d.$,{color:"chatbox-gray",size:"xs",onClick:()=>a({defaultAssistantAvatarKey:void 0}),children:e("Delete")})]})]})]}),(0,n.jsx)(u.c,{}),(0,n.jsxs)(r.B,{gap:"md",children:[(0,n.jsx)(o.E,{fw:"600",children:e("Default Settings for New Conversation")}),(0,n.jsxs)(r.B,{gap:"xxs",children:[(0,n.jsx)(o.E,{fw:"500",children:e("Prompt")}),(0,n.jsx)(h.T,{value:t.defaultPrompt||"",autosize:!0,minRows:1,maxRows:12,onChange:e=>a({defaultPrompt:e.currentTarget.value})}),(0,n.jsx)(d.$,{variant:"transparent",color:"chatbox-gray",onClick:()=>{a({defaultPrompt:(0,b.Mc)()})},px:3,py:6,className:" self-start",children:e("Reset to Default")})]}),(0,n.jsx)(j.A,{wrapperProps:{gap:"xxs"},labelProps:{fw:void 0},value:t?.maxContextMessageCount??(0,b.o$)().maxContextMessageCount,onChange:e=>a({maxContextMessageCount:e})}),(0,n.jsxs)(r.B,{gap:"xxs",children:[(0,n.jsxs)(i.s,{align:"center",gap:"xs",children:[(0,n.jsx)(o.E,{size:"sm",children:e("Temperature")}),(0,n.jsx)(g.m,{label:e("Modify the creativity of AI responses; the higher the value, the more random and intriguing the answers become, while a lower value ensures greater stability and reliability."),withArrow:!0,maw:320,className:"!whitespace-normal",zIndex:3e3,events:{hover:!0,focus:!0,touch:!0},children:(0,n.jsx)(f.A,{size:20,className:"text-[var(--mantine-color-chatbox-tertiary-text)]"})})]}),(0,n.jsx)(y.A,{value:t?.temperature,onChange:e=>a({temperature:e}),max:2})]}),(0,n.jsxs)(r.B,{gap:"xxs",children:[(0,n.jsxs)(i.s,{align:"center",gap:"xs",children:[(0,n.jsx)(o.E,{size:"sm",children:"Top P"}),(0,n.jsx)(g.m,{label:e("The topP parameter controls the diversity of AI responses: lower values make the output more focused and predictable, while higher values allow for more varied and creative replies."),withArrow:!0,maw:320,className:"!whitespace-normal",zIndex:3e3,events:{hover:!0,focus:!0,touch:!0},children:(0,n.jsx)(f.A,{size:20,className:"text-[var(--mantine-color-chatbox-tertiary-text)]"})})]}),(0,n.jsx)(y.A,{value:t?.topP,onChange:e=>a({topP:e}),max:1})]}),(0,n.jsx)(r.B,{gap:"xxs",children:(0,n.jsxs)(i.s,{align:"center",gap:"xs",justify:"space-between",children:[(0,n.jsx)(o.E,{size:"sm",children:e("Stream output")}),(0,n.jsx)(p.d,{checked:t?.stream??!0,onChange:e=>a({stream:e.target.checked})})]})})]}),(0,n.jsx)(u.c,{}),(0,n.jsxs)(r.B,{gap:"md",children:[(0,n.jsx)(o.E,{fw:"600",children:e("Conversation Settings")}),(0,n.jsxs)(r.B,{gap:"sm",children:[(0,n.jsx)(o.E,{c:"chatbox-tertiary",children:e("Display")}),(0,n.jsx)(p.d,{label:e("show message word count"),checked:t.showWordCount,onChange:()=>a({showWordCount:!t.showWordCount})}),(0,n.jsx)(p.d,{label:e("show message token count"),checked:t.showTokenCount,onChange:()=>a({showTokenCount:!t.showTokenCount})}),(0,n.jsx)(p.d,{label:e("show message token usage"),checked:t.showTokenUsed,onChange:()=>a({showTokenUsed:!t.showTokenUsed})}),(0,n.jsx)(p.d,{label:e("show model name"),checked:t.showModelName,onChange:()=>a({showModelName:!t.showModelName})}),(0,n.jsx)(p.d,{label:e("show message timestamp"),checked:t.showMessageTimestamp,onChange:()=>a({showMessageTimestamp:!t.showMessageTimestamp})}),(0,n.jsx)(p.d,{label:e("show first token latency"),checked:t.showFirstTokenLatency,onChange:()=>a({showFirstTokenLatency:!t.showFirstTokenLatency})})]}),(0,n.jsxs)(r.B,{gap:"sm",children:[(0,n.jsx)(o.E,{c:"chatbox-tertiary",children:e("Function")}),(0,n.jsx)(p.d,{label:e("Auto-collapse code blocks"),checked:t.autoCollapseCodeBlock,onChange:()=>a({autoCollapseCodeBlock:!t.autoCollapseCodeBlock})}),(0,n.jsx)(p.d,{label:e("Auto-Generate Chat Titles"),checked:t.autoGenerateTitle,onChange:()=>a({...t,autoGenerateTitle:!t.autoGenerateTitle})}),(0,n.jsx)(p.d,{label:e("Spell Check"),checked:t.spellCheck,onChange:()=>a({...t,spellCheck:!t.spellCheck})}),(0,n.jsx)(p.d,{label:e("Markdown Rendering"),checked:t.enableMarkdownRendering,onChange:()=>a({...t,enableMarkdownRendering:!t.enableMarkdownRendering})}),(0,n.jsx)(p.d,{label:e("LaTeX Rendering (Requires Markdown)"),checked:t.enableLaTeXRendering,onChange:()=>a({...t,enableLaTeXRendering:!t.enableLaTeXRendering})}),(0,n.jsx)(p.d,{label:e("Mermaid Diagrams & Charts Rendering"),checked:t.enableMermaidRendering,onChange:()=>a({...t,enableMermaidRendering:!t.enableMermaidRendering})}),(0,n.jsx)(p.d,{label:e("Inject default metadata"),checked:t.injectDefaultMetadata,description:e("e.g., Model Name, Current Date"),onChange:()=>a({...t,injectDefaultMetadata:!t.injectDefaultMetadata})}),(0,n.jsx)(p.d,{label:e("Auto-preview artifacts"),checked:t.autoPreviewArtifacts,description:e("Automatically render generated artifacts (e.g., HTML with CSS, JS, Tailwind)"),onChange:()=>a({...t,autoPreviewArtifacts:!t.autoPreviewArtifacts})}),(0,n.jsx)(p.d,{label:e("Paste long text as a file"),checked:t.pasteLongTextAsAFile,description:e("Pasting long text will automatically insert it as a file, keeping chats clean and reducing token usage with prompt caching."),onChange:()=>a({...t,pasteLongTextAsAFile:!t.pasteLongTextAsAFile})})]})]})]})}},18871:(e,t,a)=>{a.d(t,{Go:()=>l,lF:()=>c,t0:()=>i});var n=a(34843),r=a(6447),s=a(96540),o=a(80316);const i=()=>{const[e,t]=(0,n.fp)(o.FU);return{settings:e,setSettings:(0,s.useCallback)((e=>{t((t=>{const a="function"==typeof e?e(t):e;return{...t,...a}}))}),[t])}},l=e=>{const{settings:t,setSettings:a}=i(),n=t.providers?.[e];return{providerSettings:n,setProviderSettings:t=>{a((a=>{const n=a.providers?.[e]||{},r="function"==typeof t?t(n):t;return{providers:{...a.providers||{},[e]:{...n,...r}}}}))}}},c=()=>(0,r.d)(o.FU)},63403:(e,t,a)=>{a.d(t,{c:()=>p});var n=a(74848),r=(a(96540),a(56324)),s=a(59396),o=a(86344),i=a(46100),l=a(52837),c=a(11507),d=a(2412),u={root:"m_3eebeb36",label:"m_9e365f20"};const h={orientation:"horizontal"},g=(0,s.V)(((e,{color:t,variant:a,size:n})=>({root:{"--divider-color":t?(0,o.r)(t,e):void 0,"--divider-border-style":a,"--divider-size":(0,r.YC)(n,"divider-size")}}))),p=(0,d.P9)(((e,t)=>{const a=(0,i.Y)("Divider",h,e),{classNames:r,className:s,style:o,styles:d,unstyled:p,vars:x,color:m,orientation:f,label:v,labelPosition:b,mod:w,...j}=a,y=(0,l.I)({name:"Divider",classes:u,props:a,className:s,style:o,classNames:r,styles:d,unstyled:p,vars:x,varsResolver:g});return(0,n.jsx)(c.a,{ref:t,mod:[{orientation:f,"with-label":!!v},w],...y("root"),...j,role:"separator",children:v&&(0,n.jsx)(c.a,{component:"span",mod:{position:b},...y("label"),children:v})})}));p.classes=u,p.displayName="@mantine/core/Divider"},55007:(e,t,a)=>{a.d(t,{H:()=>l});var n=a(74848),r=a(96540),s=a(37055),o=a(46100);const i={multiple:!1},l=(0,r.forwardRef)(((e,t)=>{const{onChange:a,children:l,multiple:c,accept:d,name:u,form:h,resetRef:g,disabled:p,capture:x,inputProps:m,...f}=(0,o.Y)("FileButton",i,e),v=(0,r.useRef)(null);return(0,s.bl)(g,(()=>{v.current&&(v.current.value="")})),(0,n.jsxs)(n.Fragment,{children:[l({onClick:()=>{!p&&v.current?.click()},...f}),(0,n.jsx)("input",{style:{display:"none"},type:"file",accept:d,multiple:c,onChange:e=>{a(c?Array.from(e.currentTarget.files):e.currentTarget.files[0]||null)},ref:(0,s.pc)(t,v),name:u,form:h,capture:x,...m})]})}));l.displayName="@mantine/core/FileButton"},55917:(e,t,a)=>{a.d(t,{T:()=>z});var n=a(74848),r=a(58168),s=a(98587),o=a(96540),i=o.useLayoutEffect,l=function(e,t){"function"!=typeof e?e.current=t:e(t)},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},d=function(e){Object.keys(c).forEach((function(t){e.style.setProperty(t,c[t],"important")}))},u=null,h=function(e,t){var a=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?a+t.borderSize:a-t.paddingSize};var g=function(){},p=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],x=!!document.documentElement.currentStyle,m=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var a,n=(a=t,p.reduce((function(e,t){return e[t]=a[t],e}),{})),r=n.boxSizing;return""===r?null:(x&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function f(e,t,a){var n,r,s=(n=a,r=o.useRef(n),i((function(){r.current=n})),r);o.useLayoutEffect((function(){var a=function(e){return s.current(e)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}}),[])}var v=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b=function(e,t){var a=e.cacheMeasurements,n=e.maxRows,i=e.minRows,c=e.onChange,p=void 0===c?g:c,x=e.onHeightChange,b=void 0===x?g:x,w=(0,s.A)(e,v),j=void 0!==w.value,y=o.useRef(null),C=function(e,t){var a=o.useRef();return o.useCallback((function(n){e.current=n,a.current&&l(a.current,null),a.current=t,t&&l(t,n)}),[t])}(y,t),k=o.useRef(0),A=o.useRef(),z=function(){var e=y.current,t=a&&A.current?A.current:m(e);if(t){A.current=t;var r=function(e,t,a,n){void 0===a&&(a=1),void 0===n&&(n=1/0),u||((u=document.createElement("textarea")).setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),d(u)),null===u.parentNode&&document.body.appendChild(u);var r=e.paddingSize,s=e.borderSize,o=e.sizingStyle,i=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;u.style[t]=o[t]})),d(u),u.value=t;var l=h(u,e);u.value=t,l=h(u,e),u.value="x";var c=u.scrollHeight-r,g=c*a;"border-box"===i&&(g=g+r+s),l=Math.max(g,l);var p=c*n;return"border-box"===i&&(p=p+r+s),[l=Math.min(p,l),c]}(t,e.value||e.placeholder||"x",i,n),s=r[0],o=r[1];k.current!==s&&(k.current=s,e.style.setProperty("height",s+"px","important"),b(s,{rowHeight:o}))}};return o.useLayoutEffect(z),function(e,t){f(document.body,"reset",(function(a){e.current.form===a.target&&t(a)}))}(y,(function(){if(!j){var e=y.current.value;requestAnimationFrame((function(){var t=y.current;t&&e!==t.value&&z()}))}})),f(window,"resize",z),function(e){f(document.fonts,"loadingdone",e)}(z),o.createElement("textarea",(0,r.A)({},w,{onChange:function(e){j||z(),p(e)},ref:C}))},w=o.forwardRef(b),j=a(89890),y=a(46100),C=a(2412),k=a(82056);const A={},z=(0,C.P9)(((e,t)=>{const{autosize:a,maxRows:r,minRows:s,__staticSelector:o,resize:i,...l}=(0,y.Y)("Textarea",A,e),c=a&&"test"!==(0,j._)(),d=c?{maxRows:r,minRows:s}:{};return(0,n.jsx)(k.O,{component:c?w:"textarea",ref:t,...l,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":a&&void 0===r||void 0,__vars:{"--input-resize":i},...d})}));z.classes=k.O.classes,z.displayName="@mantine/core/Textarea"}}]);