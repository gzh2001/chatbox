"use strict";(self.webpackChunkxyz_chatboxapp_ce=self.webpackChunkxyz_chatboxapp_ce||[]).push([[157],{60157:(e,t,i)=>{i.r(t),i.d(t,{component:()=>x});var s=i(74848),r=i(18871),n=i(36920),o=i(69019),a=i(89652),l=i(46540),c=i(17826),d=i(40054),p=i(94010),u=i(5055),h=i(63815),v=i(96540),y=i(34195);const x=function(){const{t:e}=(0,y.Bd)(),{settings:t,setSettings:i}=(0,r.t0)(),[x,C]=(0,v.useState)(!1),[b,g]=(0,v.useState)();return(0,s.jsxs)(o.B,{p:"md",gap:"xxl",children:[(0,s.jsx)(a.h,{order:5,children:e("Web Search")}),(0,s.jsx)(l.l,{comboboxProps:{withinPortal:!0,withArrow:!0},data:[{value:"build-in",label:"Chatbox"},{value:"bing",label:"Bing"},{value:"tavily",label:"Tavily"}],value:t.extension.webSearch.provider,onChange:e=>e&&i({extension:{...t.extension,webSearch:{...t.extension.webSearch,provider:e}}}),label:e("Search Provider"),maw:320}),"tavily"===t.extension.webSearch.provider&&(0,s.jsxs)(o.B,{gap:"xs",children:[(0,s.jsx)(c.E,{fw:"600",children:e("Tavily API Key")}),(0,s.jsxs)(d.s,{align:"center",gap:"xs",children:[(0,s.jsx)(p.y,{flex:1,maw:320,value:t.extension.webSearch.tavilyApiKey,onChange:e=>{g(void 0),i({extension:{...t.extension,webSearch:{...t.extension.webSearch,tavilyApiKey:e.currentTarget.value}}})},error:!1===b}),(0,s.jsx)(u.$,{color:"chatbox-gray",variant:"light",onClick:async()=>{if(t.extension.webSearch.tavilyApiKey){C(!0),g(void 0);try{await(0,h.OT)("https://api.tavily.com/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.extension.webSearch.tavilyApiKey}`},body:{query:"Chatbox",search_depth:"basic",include_domains:[],exclude_domains:[]}}),g(!0)}catch(e){g(!1)}finally{C(!1)}}},loading:x,children:e("Check")})]}),"boolean"==typeof b?b?(0,s.jsx)(c.E,{size:"xs",c:"chatbox-success",children:e("Connection successful!")}):(0,s.jsx)(c.E,{size:"xs",c:"chatbox-error",children:e("API key invalid!")}):null,(0,s.jsx)(u.$,{variant:"transparent",size:"compact-xs",px:0,className:"self-start",onClick:()=>n.A.openLink("https://app.tavily.com?utm_source=chatbox"),children:e("Get API Key")})]})]})}},18871:(e,t,i)=>{i.d(t,{Go:()=>l,lF:()=>c,t0:()=>a});var s=i(34843),r=i(6447),n=i(96540),o=i(80316);const a=()=>{const[e,t]=(0,s.fp)(o.FU);return{settings:e,setSettings:(0,n.useCallback)((e=>{t((t=>{const i="function"==typeof e?e(t):e;return{...t,...i}}))}),[t])}},l=e=>{const{settings:t,setSettings:i}=a(),s=t.providers?.[e];return{providerSettings:s,setProviderSettings:t=>{i((i=>{const s=i.providers?.[e]||{},r="function"==typeof t?t(s):t;return{providers:{...i.providers||{},[e]:{...s,...r}}}}))}}},c=()=>(0,r.d)(o.FU)},94010:(e,t,i)=>{i.d(t,{y:()=>w});var s=i(74848),r=i(36416),n=i(66284),o=i(61617),a=(i(96540),i(56324)),l=i(59396),c=i(99274),d=i(52837),p=i(46100),u=i(63733),h=i(2412),v=i(48324),y=i(46214),x=i(82056);var C={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const b={visibilityToggleIcon:({reveal:e})=>(0,s.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:(0,s.jsx)("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})},g=(0,l.V)(((e,{size:t})=>({root:{"--psi-icon-size":(0,a.YC)(t,"psi-icon-size"),"--psi-button-size":(0,a.YC)(t,"psi-button-size")}}))),w=(0,h.P9)(((e,t)=>{const i=(0,p.Y)("PasswordInput",b,e),{classNames:a,className:l,style:h,styles:x,unstyled:w,vars:S,required:f,error:m,leftSection:P,disabled:j,id:z,variant:_,inputContainer:A,description:I,label:k,size:T,errorProps:E,descriptionProps:N,labelProps:M,withAsterisk:B,inputWrapperOrder:K,wrapperProps:W,radius:D,rightSection:L,rightSectionWidth:Z,rightSectionPointerEvents:O,leftSectionWidth:V,visible:q,defaultVisible:F,onVisibilityChange:Y,visibilityToggleIcon:R,visibilityToggleButtonProps:$,rightSectionProps:G,leftSectionProps:U,leftSectionPointerEvents:H,withErrorStyles:J,mod:Q,...X}=i,ee=(0,n.B)(z),[te,ie]=(0,o.Z)({value:q,defaultValue:F,finalValue:!1,onChange:Y}),se=()=>ie(!te),re=(0,d.I)({name:"PasswordInput",classes:C,props:i,className:l,style:h,classNames:a,styles:x,unstyled:w,vars:S,varsResolver:g}),{resolvedClassNames:ne,resolvedStyles:oe}=(0,c.Y)({classNames:a,styles:x,props:i}),{styleProps:ae,rest:le}=(0,u.j)(X),ce=R,de=(0,s.jsx)(v.M,{...re("visibilityToggle"),disabled:j,radius:D,"aria-hidden":!$,tabIndex:-1,...$,variant:$?.variant??"subtle",color:"gray",unstyled:w,onTouchEnd:e=>{e.preventDefault(),$?.onTouchEnd?.(e),se()},onMouseDown:e=>{e.preventDefault(),$?.onMouseDown?.(e),se()},onKeyDown:e=>{$?.onKeyDown?.(e)," "===e.key&&(e.preventDefault(),se())},children:(0,s.jsx)(ce,{reveal:te})});return(0,s.jsx)(y.p.Wrapper,{required:f,id:ee,label:k,error:m,description:I,size:T,classNames:ne,styles:oe,__staticSelector:"PasswordInput",errorProps:E,descriptionProps:N,unstyled:w,withAsterisk:B,inputWrapperOrder:K,inputContainer:A,variant:_,labelProps:{...M,htmlFor:ee},mod:Q,...re("root"),...ae,...W,children:(0,s.jsx)(y.p,{component:"div",error:m,leftSection:P,size:T,classNames:{...ne,input:(0,r.A)(C.input,ne.input)},styles:oe,radius:D,disabled:j,__staticSelector:"PasswordInput",rightSectionWidth:Z,rightSection:L??de,variant:_,unstyled:w,leftSectionWidth:V,rightSectionPointerEvents:O||"all",rightSectionProps:G,leftSectionProps:U,leftSectionPointerEvents:H,withAria:!1,withErrorStyles:J,children:(0,s.jsx)("input",{required:f,"data-invalid":!!m||void 0,"data-with-left-section":!!P||void 0,...re("innerInput"),disabled:j,id:ee,ref:t,...le,autoComplete:le.autoComplete||"off",type:te?"text":"password"})})})}));w.classes={...x.O.classes,...C},w.displayName="@mantine/core/PasswordInput"}}]);