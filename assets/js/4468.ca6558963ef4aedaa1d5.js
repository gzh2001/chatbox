"use strict";(self.webpackChunkxyz_chatboxapp_ce=self.webpackChunkxyz_chatboxapp_ce||[]).push([[4468],{74468:(e,s,a)=>{a.r(s),a.d(s,{component:()=>U});var n=a(74848),i=a(69019),t=a(40054),c=a(89652),l=a(5055),r=a(17826),o=a(94010),d=a(16267),x=a(27485),h=a(30132),p=a(93976),m=a(12335),u=a(75769),b=a(51395),g=a(24360),j=a(1972),_=a(40274),v=a(50223),f=a(32901),k=a(44986),y=a(96592),w=a(79208),A=a(28099),I=a(97319),z=a(46525),C=a(97286),E=a(34843),N=a(96540),$=a(34195),M=a(24597),L=a(72747),S=a(18871),B=a(83250),F=a(23342),q=a(36920),P=a(80316),D=a(40013);const U=function(){const{t:e}=(0,$.Bd)(),s=(0,E.md)(P.an),a=M.wU.ChatboxAI,{providerSettings:U,setProviderSettings:K}=(0,S.Go)(a),{settings:R}=(0,S.t0)(),[G,Q]=(0,N.useState)(R.licenseKey||""),[T,V]=(0,N.useState)(!1),H=D.PD(),[O,Y]=(0,N.useState)(!1),[J,W]=(0,N.useState)(),{allChatboxAIModels:X,chatboxAIModels:Z,refetch:ee}=(0,L.A)(),se=(0,N.useCallback)((async()=>{try{Y(!0),W(void 0);const e=await D.Yf(G||"");e.valid||W(e.error)}catch(e){W(e?.message||"unknow error")}finally{Y(!1)}}),[G]);(0,N.useEffect)((()=>{!T&&G&&G.length>=36&&!R.licenseInstances?.[G]&&(console.log("auto activate"),se())}),[G,se,R.licenseInstances,T]);const[ae,ne]=(0,N.useState)(!1),{licenseDetail:ie}=(e=>{const{data:s,...a}=(0,C.I)({queryKey:["license-detail",e],queryFn:async()=>await(0,F.yL)({licenseKey:e}),enabled:!!e});return{licenseDetail:s,...a}})(R.licenseKey||"");return(0,n.jsxs)(i.B,{gap:"xxl",children:[(0,n.jsxs)(t.s,{gap:"xs",align:"center",children:[(0,n.jsx)(c.h,{order:3,c:"chatbox-secondary",children:"Chatbox AI"}),(0,n.jsx)(l.$,{variant:"transparent",c:"chatbox-tertiary",px:0,h:24,onClick:()=>q.A.openLink("https://chatboxai.app"),children:(0,n.jsx)(b.A,{size:24})}),(0,n.jsxs)(t.s,{gap:"xxs",align:"center",className:"ml-auto",c:"chatbox-brand",children:[(0,n.jsx)(g.A,{size:16}),(0,n.jsx)(r.E,{component:"a",c:"chatbox-brand",className:"!underline",href:`https://chatboxai.app/redirect_app/how_to_use_license/${s}`,target:"_blank",children:e("How to use?")})]})]}),(0,n.jsxs)(i.B,{gap:"xl",children:[(0,n.jsxs)(i.B,{gap:"md",children:[(0,n.jsxs)(i.B,{gap:"xxs",children:[(0,n.jsx)(r.E,{fw:"600",children:e("Chatbox AI License")}),(0,n.jsxs)(t.s,{gap:"xs",align:"center",children:[(0,n.jsx)(o.y,{flex:1,value:G,onChange:e=>Q(e.currentTarget.value),readOnly:H}),H?(0,n.jsx)(l.$,{onClick:async()=>{V(!0),await D.LU(),Q(""),V(!1),(0,B.i)("click_deactivate_license_button",{event_category:"user"})},children:e("Deactivate")}):(0,n.jsx)(l.$,{onClick:se,loading:O,children:e("Activate License")})]}),H&&(0,n.jsx)(r.E,{c:"chatbox-success",children:e("License Activated")}),J&&(0,n.jsx)(r.E,{c:"chatbox-error",children:"not_found"===J?e("License not found, please check your license key"):"expired"===J?e("License expired, please check your license key"):"reached_activation_limit"===J?(0,n.jsx)($.x6,{i18nKey:"This license key has reached the activation limit, <a>click here</a> to manage license and devices to deactivate old devices.",components:{a:(0,n.jsx)("a",{href:`https://chatboxai.app/redirect_app/manage_license/${s}`,target:"_blank",rel:"noreferrer",className:"underline !text-inherit !font-semibold"})}}):(0,n.jsxs)(n.Fragment,{children:[e("Failed to activate license, please check your license key and network connection"),(0,n.jsx)("br",{}),"Error: ",J.slice(0,100)]})})]}),H&&ie?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.t,{shadow:"xs",p:"sm",withBorder:!0,children:(0,n.jsxs)(i.B,{gap:"lg",children:[[[e("Chatbox AI Quota"),100*ie.remaining_quota_unified,`${(100*ie.remaining_quota_unified).toFixed(2)}%`],...ie.expansion_pack_limit?[[e("Expansion Pack Quota"),(ie.expansion_pack_limit-ie.expansion_pack_usage)/ie.expansion_pack_limit*100,`${((ie.expansion_pack_limit-ie.expansion_pack_usage)/ie.expansion_pack_limit*100).toFixed(2)}%`]]:[],[e("Chatbox AI Image Quota"),ie.image_total_quota>0?(ie.image_total_quota-ie.image_used_count)/ie.image_total_quota*100:0,`${ie.image_total_quota-ie.image_used_count}/${ie.image_total_quota}`]].map((([e,s,a])=>(0,n.jsxs)(i.B,{gap:"xxs",children:[(0,n.jsxs)(t.s,{align:"center",justify:"space-between",children:[(0,n.jsx)(r.E,{children:e}),(0,n.jsx)(r.E,{c:"chatbox-brand",fw:"600",children:a})]}),(0,n.jsx)(x.k,{value:Number(s)})]},e))),(0,n.jsx)(t.s,{gap:"lg",children:[[e("Quota Reset"),new Date(ie.token_refreshed_time).toLocaleDateString()],[e("License Expiry"),ie.token_expire_time?new Date(ie.token_expire_time).toLocaleDateString():""]].map((([e,s])=>(0,n.jsxs)(i.B,{flex:1,gap:"xxs",children:[(0,n.jsx)(r.E,{children:e}),(0,n.jsx)(r.E,{size:"md",fw:"600",children:s})]},e)))}),(0,n.jsxs)(i.B,{flex:1,gap:"xxs",children:[(0,n.jsx)(r.E,{children:e("License Plan Overview")}),(0,n.jsx)(r.E,{size:"md",fw:"600",children:ie.name})]})]})}),ie.remaining_quota_unified<=0&&ie.expansion_pack_limit-ie.expansion_pack_usage<=0&&(0,n.jsx)(h.F,{variant:"light",color:"yellow",p:"sm",children:(0,n.jsxs)(t.s,{gap:"xs",align:"center",c:"chatbox-primary",children:[(0,n.jsx)(j.A,{size:16,className:"flex-shrink-0"}),(0,n.jsx)(r.E,{children:e("You have no more Chatbox AI quota left this month.")}),(0,n.jsxs)("a",{href:`https://chatboxai.app/redirect_app/manage_license/${s}/${R.licenseKey}`,target:"_blank",className:"ml-auto flex flex-row items-center gap-xxs",children:[(0,n.jsx)(r.E,{span:!0,fw:600,className:"whitespace-nowrap",children:e("get more")}),(0,n.jsx)(_.A,{size:16})]})]})}),(0,n.jsxs)(t.s,{gap:"xs",align:"center",children:[(0,n.jsx)(l.$,{variant:"outline",flex:1,onClick:()=>{q.A.openLink(`https://chatboxai.app/redirect_app/manage_license/${s}`),(0,B.i)("click_manage_license_button",{event_category:"user"})},children:e("Manage License and Devices")}),(0,n.jsx)(l.$,{variant:"outline",flex:1,onClick:()=>{q.A.openLink("https://chatboxai.app/redirect_app/view_more_plans"),(0,B.i)("click_view_more_plans_button",{event_category:"user"})},children:e("View More Plans")})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.t,{shadow:"xs",p:"sm",withBorder:!0,children:(0,n.jsxs)(i.B,{gap:"sm",children:[(0,n.jsx)(r.E,{fw:"600",c:"chatbox-brand",children:e("Chatbox AI offers a user-friendly AI solution to help you enhance productivity")}),(0,n.jsx)(i.B,{children:[e("Smartest AI-Powered Services for Rapid Access"),e("Vision, Drawing, File Understanding and more"),e("Hassle-free setup"),e("Ideal for work and study")].map((e=>(0,n.jsxs)(t.s,{gap:"xs",align:"center",children:[(0,n.jsx)(v.A,{size:16,className:" flex-shrink-0 flex-grow-0 text-[var(--mantine-color-chatbox-brand-text)]"}),(0,n.jsx)(r.E,{children:e})]},e)))})]})}),(0,n.jsxs)(t.s,{gap:"xs",align:"center",children:[(0,n.jsx)(l.$,{variant:"outline",flex:1,onClick:()=>{q.A.openLink("https://chatboxai.app/redirect_app/get_license"),(0,B.i)("click_get_license_button",{event_category:"user"})},children:e("Get License")}),(0,n.jsx)(l.$,{variant:"outline",flex:1,onClick:()=>{q.A.openLink(`https://chatboxai.app/redirect_app/manage_license/${s}`),(0,B.i)("click_retrieve_license_button",{event_category:"user"})},children:e("Retrieve License")})]})]})]}),(0,n.jsxs)(i.B,{gap:"xxs",children:[(0,n.jsxs)(t.s,{justify:"space-between",align:"center",children:[(0,n.jsx)(r.E,{span:!0,fw:"600",children:e("Model")}),(0,n.jsxs)(t.s,{gap:"sm",align:"center",justify:"flex-end",children:[(0,n.jsx)(l.$,{variant:"light",color:"chatbox-gray",c:"chatbox-secondary",size:"compact-xs",px:"sm",onClick:()=>{K({models:[],excludedModels:[]})},leftSection:(0,n.jsx)(f.A,{size:12}),children:e("Reset")}),(0,n.jsx)(l.$,{variant:"light",color:"chatbox-gray",c:"chatbox-secondary",size:"compact-xs",px:"sm",onClick:()=>{ee(),ne(!0)},leftSection:(0,n.jsx)(k.A,{size:12}),children:e("Fetch")})]})]}),(0,n.jsx)(i.B,{gap:0,p:"xxs",className:"border-solid border rounded-sm min-h-[100px] border-[var(--mantine-color-chatbox-border-primary-outline)]",children:Z.map((s=>(0,n.jsxs)(t.s,{gap:"xs",align:"center",p:"sm",px:"xs",className:"border-solid border-0 border-b last:border-b-0 border-[var(--mantine-color-chatbox-border-primary-outline)]",children:[(0,n.jsx)(r.E,{component:"span",size:"sm",flex:"0 1 auto",c:s.labels?.includes("recommended")?"chatbox-brand":void 0,children:s.nickname||s.modelId}),s.labels?.includes("pro")&&(0,n.jsx)(p.E,{color:"chatbox-brand",size:"xs",variant:"light",children:"Pro"}),(0,n.jsxs)(t.s,{flex:"0 0 auto",gap:"xs",align:"center",children:[s.type&&"chat"!==s.type&&(0,n.jsx)(p.E,{color:"blue",children:e(s.type)}),s.capabilities?.includes("reasoning")&&(0,n.jsx)(m.m,{label:e("Reasoning"),children:(0,n.jsx)(r.E,{span:!0,c:"chatbox-warning",className:"flex items-center",children:(0,n.jsx)(y.A,{size:20})})}),s.capabilities?.includes("vision")&&(0,n.jsx)(m.m,{label:e("Vision"),children:(0,n.jsx)(r.E,{span:!0,c:"chatbox-brand",className:"flex items-center",children:(0,n.jsx)(w.A,{size:20})})}),s.capabilities?.includes("tool_use")&&(0,n.jsx)(m.m,{label:e("Tool Use"),children:(0,n.jsx)(r.E,{span:!0,c:"chatbox-success",className:"flex items-center",children:(0,n.jsx)(A.A,{size:20})})})]}),(0,n.jsx)(t.s,{flex:"0 0 auto",gap:"xs",align:"center",className:"ml-auto",children:(0,n.jsx)(l.$,{variant:"transparent",c:"chatbox-error",p:0,h:"auto",size:"compact-xs",bd:0,onClick:()=>{return e=s.modelId,void K({excludedModels:[...U?.excludedModels||[],e]});var e},children:(0,n.jsx)(I.A,{size:20})})})]},s.modelId)))})]})]}),(0,n.jsx)(u.a,{keepMounted:!1,opened:ae,onClose:()=>ne(!1),title:e("Edit Model"),centered:!0,children:(0,n.jsx)(i.B,{gap:"md",children:X?.map((s=>(0,n.jsxs)(t.s,{align:"center",gap:"xs",children:[(0,n.jsx)(r.E,{component:"span",size:"sm",flex:"0 1 auto",c:s.labels?.includes("recommended")?"chatbox-brand":void 0,children:s.nickname||s.modelId}),s.labels?.includes("pro")&&(0,n.jsx)(p.E,{color:"chatbox-brand",size:"xs",variant:"light",children:"Pro"}),(0,n.jsxs)(t.s,{flex:"0 0 auto",gap:"xs",align:"center",children:[s.capabilities?.includes("reasoning")&&(0,n.jsx)(m.m,{label:e("Reasoning"),children:(0,n.jsx)(y.A,{size:20,className:"text-[var(--mantine-color-chatbox-warning-text)]"})}),s.capabilities?.includes("vision")&&(0,n.jsx)(m.m,{label:e("Vision"),children:(0,n.jsx)(w.A,{size:20,className:"text-[var(--mantine-color-chatbox-brand-text)]"})}),s.capabilities?.includes("tool_use")&&(0,n.jsx)(m.m,{label:e("Tool Use"),children:(0,n.jsx)(A.A,{size:20,className:"text-[var(--mantine-color-chatbox-success-text)]"})})]}),U?.excludedModels?.includes(s.modelId)?(0,n.jsx)(l.$,{variant:"transparent",p:0,h:"auto",size:"xs",bd:0,className:"ml-auto",onClick:()=>K({excludedModels:(U?.excludedModels||[]).filter((e=>e!==s.modelId))}),children:(0,n.jsx)(z.A,{size:20,className:"text-[var(--mantine-color-chatbox-success-text)]"})}):(0,n.jsx)(l.$,{variant:"transparent",p:0,h:"auto",size:"xs",bd:0,className:"ml-auto",onClick:()=>K({excludedModels:[...U?.excludedModels||[],s.modelId]}),children:(0,n.jsx)(I.A,{size:20,className:"text-[var(--mantine-color-chatbox-error-text)]"})})]},s.modelId)))})})]})}},72747:(e,s,a)=>{a.d(s,{A:()=>d});var n=a(97286),i=a(34843),t=a(96540),c=a(24597),l=a(23342),r=a(80316),o=a(18871);const d=()=>{const e=(0,i.md)(r.an),{providerSettings:s,setProviderSettings:a}=(0,o.Go)(c.wU.ChatboxAI),{data:d,...x}=(0,n.I)({queryKey:["chatbox-ai-models",e],queryFn:async()=>{const s=await(0,l.FU)({aiProvider:c.wU.ChatboxAI,language:e});return s.models&&s.models.length>0&&a((e=>({...e,models:s.models.map((e=>({modelId:e.modelId,nickname:e.modelName,labels:e.labels,capabilities:e.capabilities,type:e.type})))}))),s.models}}),h=(0,t.useMemo)((()=>d?.map((e=>({modelId:e.modelId,nickname:e.modelName,labels:e.labels,capabilities:e.capabilities,type:e.type})))||[]),[d]),p=(0,t.useMemo)((()=>h.filter((e=>!s?.excludedModels?.includes(e.modelId)))),[h,s]);return{allChatboxAIModels:h,chatboxAIModels:p,...x}}},18871:(e,s,a)=>{a.d(s,{Go:()=>r,lF:()=>o,t0:()=>l});var n=a(34843),i=a(6447),t=a(96540),c=a(80316);const l=()=>{const[e,s]=(0,n.fp)(c.FU);return{settings:e,setSettings:(0,t.useCallback)((e=>{s((s=>{const a="function"==typeof e?e(s):e;return{...s,...a}}))}),[s])}},r=e=>{const{settings:s,setSettings:a}=l(),n=s.providers?.[e];return{providerSettings:n,setProviderSettings:s=>{a((a=>{const n=a.providers?.[e]||{},i="function"==typeof s?s(n):s;return{providers:{...a.providers||{},[e]:{...n,...i}}}}))}}},o=()=>(0,i.d)(c.FU)}}]);