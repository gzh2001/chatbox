"use strict";(self.webpackChunkxyz_chatboxapp_ce=self.webpackChunkxyz_chatboxapp_ce||[]).push([[185],{50185:(e,a,r)=>{r.r(a),r.d(a,{component:()=>B});var t=r(74848),o=r(69019),s=r(89652),n=r(74533),i=r(5055),l=r(63403),c=r(17826),d=r(30132),u=r(55007),h=r(46540),p=r(31804),m=r(40054),v=r(57193),g=r(2432),y=r(57693),x=r(2543),b=r(96540),f=r(34195),C=r(24597),j=r(52246);const w=({value:e,onChange:a,...r})=>{const[o,s]=(0,b.useState)(),n=(0,b.useCallback)((e=>{s(e)}),[]),i=(0,b.useCallback)((e=>{s(void 0),a?.(e)}),[]);return(0,t.jsx)(j.A,{...r,value:o??e,onChange:n,onChangeEnd:i})};var k=r(18871),S=r(71216),_=r(36920),N=r(12268),A=r(33345);const R=()=>{const{t:e}=(0,f.Bd)(),[a,r]=(0,b.useState)(""),[h,p]=(0,b.useState)([z.Setting,z.Conversations,z.Copilot]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.B,{gap:"md",children:[(0,t.jsx)(s.h,{order:5,children:e("Data Backup")}),[{label:e("Settings"),value:z.Setting},{label:e("API KEY & License"),value:z.Key},{label:e("Chat History"),value:z.Conversations},{label:e("My Copilots"),value:z.Copilot}].map((({label:e,value:a})=>(0,t.jsx)(n.S,{checked:h.includes(a),label:e,onChange:e=>{const r=e.currentTarget.checked;r&&!h.includes(a)?p([...h,a]):r||p(h.filter((e=>e!==a)))}},a))),(0,t.jsx)(i.$,{className:"self-start",onClick:async()=>{const e=await N.A.getAll();delete e[N.Z.Configs],e[N.Z.Settings].licenseDetail=void 0,e[N.Z.Settings].licenseInstances=void 0,h.includes(z.Key)||(delete e[N.Z.Settings].licenseKey,e[N.Z.Settings].providers=(0,x.mapValues)(e[N.Z.Settings].providers,(e=>(delete e.apiKey,e)))),h.includes(z.Setting)||delete e[N.Z.Settings],h.includes(z.Conversations)||delete e[N.Z.ChatSessions],h.includes(z.Copilot)||delete e[N.Z.MyCopilots];const a=new Date;e.__exported_items=h,e.__exported_at=a.toISOString();const r=`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`;_.A.exporter.exportTextFile(`chatbox-exported-data-${r}.json`,JSON.stringify(e))},children:e("Export Selected Data")})]}),(0,t.jsx)(l.c,{}),(0,t.jsxs)(o.B,{gap:"lg",children:[(0,t.jsxs)(o.B,{gap:"xxs",children:[(0,t.jsx)(s.h,{order:5,children:e("Data Restore")}),(0,t.jsx)(c.E,{c:"chatbox-tertiary",children:e("Upon import, changes will take effect immediately and existing data will be overwritten")})]}),a&&(0,t.jsx)(d.F,{className:" self-start",variant:"light",color:"yellow",title:a,icon:(0,t.jsx)(y.A,{})}),(0,t.jsx)(u.H,{accept:"application/json",onChange:a=>{const t=e("Import failed, unsupported data format");if(!a)return;const o=new FileReader;o.onload=e=>{(async()=>{r("");try{const a=e.target?.result;if("string"!=typeof a)throw new Error("FileReader result is not string");const r=JSON.parse(a);await(0,A.rc)({getData:async(e,a)=>r[e]||a,setData:async(e,a)=>{r[e]=a},setAll:async e=>{Object.assign(r,e)}},!1);const t=await N.A.getAll();await N.A.setAll({...t,...r,[N.Z.ChatSessionsList]:(0,x.uniqBy)([...t[N.Z.ChatSessionsList]||[],...r[N.Z.ChatSessionsList]||[]],"id")}),_.A.relaunch()}catch(e){throw r(t),e}})()},o.onerror=e=>{r(t);const a=e.target?.error;if(!a)throw new Error("FileReader error but no error message");throw a},o.readAsText(a)},children:a=>(0,t.jsx)(i.$,{...a,className:"self-start",children:e("Import and Restore")})})]})]})};var z;!function(e){e.Setting="setting",e.Key="key",e.Conversations="conversations",e.Copilot="copilot"}(z||(z={}));const B=function(){const{t:e}=(0,f.Bd)(),{settings:a,setSettings:r}=(0,k.t0)();return(0,t.jsxs)(o.B,{p:"md",gap:"xl",children:[(0,t.jsx)(s.h,{order:5,children:e("General Settings")}),(0,t.jsxs)(o.B,{gap:"md",children:[(0,t.jsx)(s.h,{order:5,children:e("Display Settings")}),(0,t.jsx)(h.l,{maw:320,comboboxProps:{withinPortal:!0},value:a.language,data:S.e.map((e=>({value:e,label:S.m[e]}))),label:e("Language"),styles:{label:{fontWeight:400}},onChange:e=>{e&&r({language:e})}}),(0,t.jsx)(h.l,{maw:320,comboboxProps:{withinPortal:!0,withArrow:!0},label:e("Theme"),styles:{label:{fontWeight:400}},data:[{value:`${C.Sx.System}`,label:e("Follow System")},{value:`${C.Sx.Light}`,label:e("Light Mode")},{value:`${C.Sx.Dark}`,label:e("Dark Mode")}],value:`${a.theme}`,onChange:e=>{e&&r({theme:parseInt(e)})}}),(0,t.jsxs)(o.B,{children:[(0,t.jsx)(c.E,{children:e("Font Size")}),(0,t.jsx)(w,{step:1,min:10,max:22,maw:320,marks:[{value:14}],value:a.fontSize,onChange:e=>r({fontSize:e})})]}),(0,t.jsxs)(o.B,{children:[(0,t.jsx)(c.E,{children:e("Startup Page")}),(0,t.jsx)(p.s.Group,{value:a.startupPage,defaultValue:"home",onChange:e=>r({startupPage:e}),children:(0,t.jsxs)(m.s,{gap:"md",children:[(0,t.jsx)(p.s,{label:e("Home Page"),value:"home"}),(0,t.jsx)(p.s,{label:e("Last Session"),value:"session"})]})})]})]}),(0,t.jsx)(l.c,{}),(0,t.jsxs)(o.B,{gap:"xs",children:[(0,t.jsx)(s.h,{order:5,children:e("Network Proxy")}),(0,t.jsx)(v.k,{maw:320,placeholder:"socks5://127.0.0.1:6153",value:a.proxy,onChange:e=>r({proxy:e.currentTarget.value})})]}),(0,t.jsx)(l.c,{}),(0,t.jsx)(R,{}),(0,t.jsx)(l.c,{}),(0,t.jsxs)(o.B,{gap:"md",children:[(0,t.jsxs)(o.B,{gap:"xxs",children:[(0,t.jsx)(s.h,{order:5,children:e("Error Reporting")}),(0,t.jsx)(c.E,{c:"chatbox-tertiary",children:e("Chatbox respects your privacy and only uploads anonymous error data and events when necessary. You can change your preferences at any time in the settings.")})]}),(0,t.jsx)(n.S,{label:e("Enable optional anonymous reporting of crash and event data"),checked:a.allowReportingAndTracking,onChange:e=>r({allowReportingAndTracking:e.target.checked})})]}),"desktop"===_.A.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.c,{}),(0,t.jsxs)(o.B,{gap:"xl",children:[(0,t.jsx)(g.d,{label:e("Launch at system startup"),checked:a.autoLaunch,onChange:e=>r({autoLaunch:e.currentTarget.checked})}),(0,t.jsx)(g.d,{label:e("Automatic updates"),checked:a.autoUpdate,onChange:e=>r({autoUpdate:e.currentTarget.checked})}),(0,t.jsx)(g.d,{label:e("Beta updates"),checked:a.betaUpdate,onChange:e=>r({betaUpdate:e.currentTarget.checked})})]})]})]})}},18871:(e,a,r)=>{r.d(a,{Go:()=>l,lF:()=>c,t0:()=>i});var t=r(34843),o=r(6447),s=r(96540),n=r(80316);const i=()=>{const[e,a]=(0,t.fp)(n.FU);return{settings:e,setSettings:(0,s.useCallback)((e=>{a((a=>{const r="function"==typeof e?e(a):e;return{...a,...r}}))}),[a])}},l=e=>{const{settings:a,setSettings:r}=i(),t=a.providers?.[e];return{providerSettings:t,setProviderSettings:a=>{r((r=>{const t=r.providers?.[e]||{},o="function"==typeof a?a(t):a;return{providers:{...r.providers||{},[e]:{...t,...o}}}}))}}},c=()=>(0,o.d)(n.FU)},30132:(e,a,r)=>{r.d(a,{F:()=>v});var t=r(74848),o=r(66284),s=(r(96540),r(56324)),n=r(59396),i=r(46100),l=r(52837),c=r(11507),d=r(2412),u=r(80355),h={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const p={},m=(0,n.V)(((e,{radius:a,color:r,variant:t,autoContrast:o})=>{const n=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:o});return{root:{"--alert-radius":void 0===a?void 0:(0,s.nJ)(a),"--alert-bg":r||t?n.background:void 0,"--alert-color":n.color,"--alert-bd":r||t?n.border:void 0}}})),v=(0,d.P9)(((e,a)=>{const r=(0,i.Y)("Alert",p,e),{classNames:s,className:n,style:d,styles:v,unstyled:g,vars:y,radius:x,color:b,title:f,children:C,id:j,icon:w,withCloseButton:k,onClose:S,closeButtonLabel:_,variant:N,autoContrast:A,...R}=r,z=(0,l.I)({name:"Alert",classes:h,props:r,className:n,style:d,classNames:s,styles:v,unstyled:g,vars:y,varsResolver:m}),B=(0,o.B)(j),P=f&&`${B}-title`||void 0,D=`${B}-body`;return(0,t.jsx)(c.a,{id:B,...z("root",{variant:N}),variant:N,ref:a,...R,role:"alert","aria-describedby":D,"aria-labelledby":P,children:(0,t.jsxs)("div",{...z("wrapper"),children:[w&&(0,t.jsx)("div",{...z("icon"),children:w}),(0,t.jsxs)("div",{...z("body"),children:[f&&(0,t.jsx)("div",{...z("title"),"data-with-close-button":k||void 0,children:(0,t.jsx)("span",{id:P,...z("label"),children:f})}),C&&(0,t.jsx)("div",{id:D,...z("message"),"data-variant":N,children:C})]}),k&&(0,t.jsx)(u.J,{...z("closeButton"),onClick:S,variant:"transparent",size:16,iconSize:16,"aria-label":_,unstyled:g})]})})}));v.classes=h,v.displayName="@mantine/core/Alert"},63403:(e,a,r)=>{r.d(a,{c:()=>m});var t=r(74848),o=(r(96540),r(56324)),s=r(59396),n=r(86344),i=r(46100),l=r(52837),c=r(11507),d=r(2412),u={root:"m_3eebeb36",label:"m_9e365f20"};const h={orientation:"horizontal"},p=(0,s.V)(((e,{color:a,variant:r,size:t})=>({root:{"--divider-color":a?(0,n.r)(a,e):void 0,"--divider-border-style":r,"--divider-size":(0,o.YC)(t,"divider-size")}}))),m=(0,d.P9)(((e,a)=>{const r=(0,i.Y)("Divider",h,e),{classNames:o,className:s,style:n,styles:d,unstyled:m,vars:v,color:g,orientation:y,label:x,labelPosition:b,mod:f,...C}=r,j=(0,l.I)({name:"Divider",classes:u,props:r,className:s,style:n,classNames:o,styles:d,unstyled:m,vars:v,varsResolver:p});return(0,t.jsx)(c.a,{ref:a,mod:[{orientation:y,"with-label":!!x},f],...j("root"),...C,role:"separator",children:x&&(0,t.jsx)(c.a,{component:"span",mod:{position:b},...j("label"),children:x})})}));m.classes=u,m.displayName="@mantine/core/Divider"},55007:(e,a,r)=>{r.d(a,{H:()=>l});var t=r(74848),o=r(96540),s=r(37055),n=r(46100);const i={multiple:!1},l=(0,o.forwardRef)(((e,a)=>{const{onChange:r,children:l,multiple:c,accept:d,name:u,form:h,resetRef:p,disabled:m,capture:v,inputProps:g,...y}=(0,n.Y)("FileButton",i,e),x=(0,o.useRef)(null);return(0,s.bl)(p,(()=>{x.current&&(x.current.value="")})),(0,t.jsxs)(t.Fragment,{children:[l({onClick:()=>{!m&&x.current?.click()},...y}),(0,t.jsx)("input",{style:{display:"none"},type:"file",accept:d,multiple:c,onChange:e=>{r(c?Array.from(e.currentTarget.files):e.currentTarget.files[0]||null)},ref:(0,s.pc)(a,x),name:u,form:h,capture:v,...g})]})}));l.displayName="@mantine/core/FileButton"},31804:(e,a,r)=>{r.d(a,{s:()=>V});var t=r(74848),o=r(66284),s=(r(96540),r(56324)),n=r(59396),i=r(89569),l=r(86344),c=r(55488),d=r(56644),u=r(46100),h=r(52837),p=r(63733),m=r(11507),v=r(2412),g=r(80047),y=r(82820),x=r(46076),b=r(97986);const[f,C]=(0,b.e)(),[j,w]=(0,b.e)();var k={card:"m_9dc8ae12"};const S={withBorder:!0},_=(0,n.V)(((e,{radius:a})=>({card:{"--card-radius":(0,s.nJ)(a)}}))),N=(0,v.P9)(((e,a)=>{const r=(0,u.Y)("RadioCard",S,e),{classNames:o,className:s,style:n,styles:i,unstyled:l,vars:c,checked:d,mod:p,withBorder:m,value:v,onClick:g,name:b,onKeyDown:f,...w}=r,N=(0,h.I)({name:"RadioCard",classes:k,props:r,className:s,style:n,classNames:o,styles:i,unstyled:l,vars:c,varsResolver:_,rootSelector:"card"}),{dir:A}=(0,y.jH)(),R=C(),z="boolean"==typeof d?d:R?.value===v||!1,B=b||R?.name;return(0,t.jsx)(j,{value:{checked:z},children:(0,t.jsx)(x.N,{ref:a,mod:[{"with-border":m,checked:z},p],...N("card"),...w,role:"radio","aria-checked":z,name:B,onClick:e=>{g?.(e),R?.onChange(v||"")},onKeyDown:e=>{if(f?.(e),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(e.nativeEvent.code)){e.preventDefault();const a=Array.from(document.querySelectorAll(`[role="radio"][name="${B||"__mantine"}"]`)),r=a.findIndex((a=>a===e.target)),t=r+1>=a.length?0:r+1,o=r-1<0?a.length-1:r-1;"ArrowDown"===e.nativeEvent.code&&(a[t].focus(),a[t].click()),"ArrowUp"===e.nativeEvent.code&&(a[o].focus(),a[o].click()),"ArrowLeft"===e.nativeEvent.code&&(a["ltr"===A?o:t].focus(),a["ltr"===A?o:t].click()),"ArrowRight"===e.nativeEvent.code&&(a["ltr"===A?t:o].focus(),a["ltr"===A?t:o].click())}}})})}));N.displayName="@mantine/core/RadioCard",N.classes=k;var A=r(61617),R=r(46214),z=r(9425);const B={},P=(0,v.P9)(((e,a)=>{const{value:r,defaultValue:s,onChange:n,size:i,wrapperProps:l,children:c,name:d,readOnly:h,...p}=(0,u.Y)("RadioGroup",B,e),m=(0,o.B)(d),[v,g]=(0,A.Z)({value:r,defaultValue:s,finalValue:"",onChange:n});return(0,t.jsx)(f,{value:{value:v,onChange:e=>!h&&g("string"==typeof e?e:e.currentTarget.value),size:i,name:m},children:(0,t.jsx)(R.p.Wrapper,{size:i,ref:a,...l,...p,labelElement:"div",__staticSelector:"RadioGroup",children:(0,t.jsx)(z.F,{role:"radiogroup",children:c})})})}));P.classes=R.p.Wrapper.classes,P.displayName="@mantine/core/RadioGroup";var D=r(88149);function F({size:e,style:a,...r}){return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:(0,D.D)(e),height:(0,D.D)(e),...a},"aria-hidden":!0,...r,children:(0,t.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var E={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const I={icon:F},T=(0,n.V)(((e,{radius:a,color:r,size:t,iconColor:o,variant:n,autoContrast:u})=>{const h=(0,i.g)({color:r||e.primaryColor,theme:e}),p=h.isThemeColor&&void 0===h.shade?`var(--mantine-color-${h.color}-outline)`:h.color;return{indicator:{"--radio-size":(0,s.YC)(t,"radio-size"),"--radio-radius":void 0===a?void 0:(0,s.nJ)(a),"--radio-color":"outline"===n?p:(0,l.r)(r,e),"--radio-icon-size":(0,s.YC)(t,"radio-icon-size"),"--radio-icon-color":o?(0,l.r)(o,e):(0,d.v)(u,e)?(0,c.w)({color:r,theme:e,autoContrast:u}):void 0}}})),Y=(0,v.P9)(((e,a)=>{const r=(0,u.Y)("RadioIndicator",I,e),{classNames:o,className:s,style:n,styles:i,unstyled:l,vars:c,icon:d,radius:p,color:v,iconColor:g,autoContrast:y,checked:x,mod:b,variant:f,disabled:C,...j}=r,k=d,S=(0,h.I)({name:"RadioIndicator",classes:E,props:r,className:s,style:n,classNames:o,styles:i,unstyled:l,vars:c,varsResolver:T,rootSelector:"indicator"}),_=w(),N="boolean"==typeof x?x:_?.checked||!1;return(0,t.jsx)(m.a,{ref:a,...S("indicator",{variant:f}),variant:f,mod:[{checked:N,disabled:C},b],...j,children:(0,t.jsx)(k,{...S("icon")})})}));Y.displayName="@mantine/core/RadioIndicator",Y.classes=E;var $={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const L={labelPosition:"right"},Z=(0,n.V)(((e,{size:a,radius:r,color:t,iconColor:o,variant:n,autoContrast:u})=>{const h=(0,i.g)({color:t||e.primaryColor,theme:e}),p=h.isThemeColor&&void 0===h.shade?`var(--mantine-color-${h.color}-outline)`:h.color;return{root:{"--radio-size":(0,s.YC)(a,"radio-size"),"--radio-radius":void 0===r?void 0:(0,s.nJ)(r),"--radio-color":"outline"===n?p:(0,l.r)(t,e),"--radio-icon-color":o?(0,l.r)(o,e):(0,d.v)(u,e)?(0,c.w)({color:t,theme:e,autoContrast:u}):void 0,"--radio-icon-size":(0,s.YC)(a,"radio-icon-size")}}})),V=(0,v.P9)(((e,a)=>{const r=(0,u.Y)("Radio",L,e),{classNames:s,className:n,style:i,styles:l,unstyled:c,vars:d,id:v,size:y,label:x,labelPosition:b,description:f,error:j,radius:w,color:k,variant:S,disabled:_,wrapperProps:N,icon:A=F,rootRef:R,iconColor:z,onChange:B,mod:P,...D}=r,E=(0,h.I)({name:"Radio",classes:$,props:r,className:n,style:i,classNames:s,styles:l,unstyled:c,vars:d,varsResolver:Z}),I=C(),T=I?.size??y,Y=r.size?y:T,{styleProps:V,rest:U}=(0,p.j)(D),K=(0,o.B)(v),G=I?{checked:I.value===U.value,name:U.name??I.name,onChange:e=>{I.onChange(e),B?.(e)}}:{};return(0,t.jsx)(g.I,{...E("root"),__staticSelector:"Radio",__stylesApiProps:r,id:K,size:Y,labelPosition:b,label:x,description:f,error:j,disabled:_,classNames:s,styles:l,unstyled:c,"data-checked":G.checked||void 0,variant:S,ref:R,mod:P,...V,...N,children:(0,t.jsxs)(m.a,{...E("inner"),mod:{"label-position":b},children:[(0,t.jsx)(m.a,{...E("radio",{focusable:!0,variant:S}),onChange:B,...U,...G,component:"input",mod:{error:!!j},ref:a,id:K,disabled:_,type:"radio"}),(0,t.jsx)(A,{...E("icon"),"aria-hidden":!0})]})})}));V.classes=$,V.displayName="@mantine/core/Radio",V.Group=P,V.Card=N,V.Indicator=Y}}]);